var u=Object.defineProperty;var c=(s,e,t)=>e in s?u(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var n=(s,e,t)=>(c(s,typeof e!="symbol"?e+"":e,t),t);import{z as h,Y as v,c as b,P as i}from"./index-133f0293.js";var d=Object.defineProperty,f=Object.getOwnPropertyDescriptor,m=(s,e,t)=>e in s?d(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,g=(s,e,t,r)=>{for(var l=r>1?void 0:r?f(e,t):e,a=s.length-1,o;a>=0;a--)(o=s[a])&&(l=(r?o(e,t,l):o(l))||l);return r&&l&&d(e,t,l),l},x=(s,e,t)=>(m(s,typeof e!="symbol"?e+"":e,t),t);let p=class extends v{constructor(){super(...arguments);n(this,"state",{isOpen:!1,selectedValue:"",selectedText:""});n(this,"button",null);n(this,"menu",null);n(this,"popper",null)}install(){this.setSelectedOption(),document.addEventListener("click",this.handleClickOutside.bind(this))}setSelectedOption(){const e=this.props.options.find(t=>this.props.value===t.value);e&&(this.state.selectedValue=e.value,this.state.selectedText=e.text)}receiveProps(){this.setSelectedOption()}uninstall(){document.removeEventListener("click",this.handleClickOutside.bind(this))}handleClickOutside(e){this.button&&!this.button.contains(e.target)&&this.state.isOpen&&(this.state.isOpen=!1,this.update())}onToggleOpen(e){e.stopPropagation(),this.state.isOpen=!this.state.isOpen,this.update(),this.popper&&this.popper.destroy(),this.state.isOpen&&this.button&&this.menu&&(this.popper=b(this.button,this.menu,{placement:"bottom-start"}))}onSelectOption(e){e.value!==this.state.selectedValue&&(this.state.selectedValue=e.value,this.state.selectedText=e.text,this.state.isOpen=!1,this.update(),this.fire("change",{value:e.value}))}render(){return i("div",{class:"relative w-full inline-block text-left"},i("div",{class:"bg-background text-foreground rounded border overflow-hidden"},i("button",{type:"button",class:"inline-flex justify-between w-full shadow-sm px-2 py-1.5 text-sm font-medium hover:bg-zinc-50  dark:hover:bg-zinc-700",id:"options-menu","aria-haspopup":"true","aria-expanded":"true",onClick:e=>this.onToggleOpen(e),ref:e=>this.button=e},i("div",{class:"overflow-hidden text-ellipsis whitespace-nowrap"},this.state.selectedText||"ã€€"),i("svg",{class:"-mr-1 mt-0.5 ml-2 h-4 w-5 min-w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},i("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})))),i("div",{class:"border origin-top-right z-50 absolute whitespace-nowrap right-0 mt-2 rounded shadow-lg bg-background text-foreground ring-1 ring-black ring-opacity-5 max-h-48 overflow-auto",ref:e=>this.menu=e,style:{display:this.state.isOpen?"block":"none"}},i("div",{class:"py-1 px-1",role:"menu","aria-orientation":"vertical","aria-labelledby":"options-menu"},this.props.options.map(e=>i("a",{href:"javascript:",class:"block px-4 py-2 text-sm  hover:bg-zinc-100 rounded dark:hover:bg-zinc-400 hover:text-zinc-900",role:"menuitem",onClick:()=>this.onSelectOption(e)},e.text)))))}};x(p,"css",`
  :host {
    display: inline-block;
  }
  `);p=g([h("o-select")],p);
